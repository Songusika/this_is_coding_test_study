## 🧐 문제 해석

> 주어진 키를 돌리고, 움직여서 자물쇠를 풀 수 있는지 검사하라
> 
- 키를 몇번을 돌리든, 어떻게 움직이지는 상관없다.

## 🤔 문제 접근

- 방법: **키를 돌려가면서 자물쇠의 홈이 파져있는 넓이 만큼 키를 맞춰가며 자물쇠가 풀리는지 검사하자.**
    - 키와 자물쇠가 겹치지 않는 자물쇠 영역은 모두 **1**이어야 한다.
    - 키와 자물쇠가 겹치는 칸에서 **XOR 연산**시 **1**이어야 한다. (돌기와 홈이 맞다는 뜻)
        - 결과가 0 이라는 것은 다음을 의미한다.
            - 0과0 → 이는 홈과 홈이 만나 돌기가 안들어갔다는 의미
            - 1과1 → 이는 돌기와 돌기가 만났다는 의미
        - 돌기와 홈의 순서는 상관이 없다
        - 처음 키와 자물쇠가 겹치지 않는 영역이 모두 1인지 검사했기 때문이다.
            - 남은 겹치는 부분에 홈(0)이 존재한다.

- 키를 90도 돌리는 방법
    - 3X3 모양의 키가 아래 사진의 왼쪽과 같이 있다고 하자, 각 칸에는 2차원 배열의 인덱스를 적었다.
    - 키를 오른쪽 90도로 돌리면 초록색 부분이 아래 사진의 오른쪽처럼 이동해야한다.
    
    ![image](https://user-images.githubusercontent.com/74398096/216768854-dcacd878-e5c2-41a2-a32e-45f62ace9e66.png)

    <aside>
    💡 (2,0) 좌표를 어떻게 (0,1)와 매칭시킬 수 있을까?
    
    </aside>
    
    - 각 꼭짓점을 제외하고는 아래의 방식으로 얻을 수 있다.
        - 열을 고정한 채로 자신의 반대 좌표값을 얻는다.
            - (1,0)
        - 해당 좌표값을 뒤집는다.
            - (0,1)
    - **이를 공식화하면 꼭짓점을 포함하여 90도 회전시의 좌표를 얻을 수 있다.**
        - **행 좌표를 통해 회전 시의 열 좌표, 열 좌표를 통해 회전 시의 행 좌표를 얻을 수 있다.**
    - `회전시 열 좌표: 정사각형 길이 - 자신의 행 위치 - 1`
        - 뒤집기 때문에 자신의 반대편 좌표값의 행이 열로 간다.
    - `회전시 행 좌표: 자신의 열 좌표`
        - 위의 ‘*좌표를 뒤집는다*’→ 열을 고정했기 때문에 자신의 열 좌표가 행으로 가는 것을 알 수 있음
    - ex) (2,0) - (회전 시) → (0, 4-2-1) = (0,1)
    - 즉, 정사각형 길이가 $n$, 원본 좌표가 $(x, y)$ 일 시 이동할 좌표 $P = (y, n - x - 1)$

- 키를 자물쇠와 맞출때는 모든 칸을 한개씩 검사할 필요는 없다.
    - 아래의 그림처럼 키와 자물쇠가 있다고 하자
    
        ![image](https://user-images.githubusercontent.com/74398096/216768871-852c98da-a194-4bda-8aa3-47836d649483.png)
    
    - 자물쇠에서 홈있는 영역의 넒이를 구하면 4칸이다. → 필요한 키의 영역은 최소 4칸이다.
    - 따라서, 키의 좌측 상단 부터 4칸씩 자물쇠의 홈 영역과 대조하면 된다.
        
        ![image](https://user-images.githubusercontent.com/74398096/216768886-12fdfc09-aa9e-4b89-ac20-6af5b64f2100.png)
        
        ![image](https://user-images.githubusercontent.com/74398096/216768904-055d956c-1be2-4712-b01a-85bb4d678c22.png)

    

- 주어진 키를 위의 방법으로 자물쇠와 대조한 뒤, 풀리지 않았다면 키를 돌려가며 대조를 진행한다.

## 📚 기능 목록

- 주어진 키와 자물쇠를 검증 및 저장하는 기능
    - 키와 자물쇠의 크기 검사: 3≤ M, N ≤ 20
- 자물쇠를 풀 때 필요한 키의 영역을 구하는 기능
- 자물쇠의 홈 영역의 위치를 구하는 기능
- 키를 90도 회전하는 돌리는 기능
- 자물쇠가 주어진 키를 가지고 풀리는지 검사하는 기능
    - 겹치지 않는 부분의 자물쇠가 모두 1 인가?
    - 겹치는 부분을 XOR 연산 시 모든 결과가 1인가?
        - 모든 결과가 1 → 자물쇠와 키가 맞물려 풀린다.
        - 결과 중 한개라도 0 → 둘 다 돌기 혹은 둘 다 홈(풀리지 않는다.)